    /**
    * o------------------------------------------------------------------------------o
    * | This file is part of the RGraph package - you can learn more at:             |
    * |                                                                              |
    * |                          http://www.rgraph.net                               |
    * |                                                                              |
    * | This package is licensed under the RGraph license. For all kinds of business |
    * | purposes there is a small one-time licensing fee to pay and for non          |
    * | commercial  purposes it is free to use. You can read the full license here:  |
    * |                                                                              |
    * |                      http://www.rgraph.net/LICENSE.txt                       |
    * o------------------------------------------------------------------------------o
    */

"undefined"==typeof RGraph&&(RGraph={});
RGraph.Line=function(u){this.id=u;this.canvas=document.getElementById("object"===typeof u?u.id:u);this.context=this.canvas.getContext?this.canvas.getContext("2d"):null;this.canvas.__object__=this;this.type="line";this.max=0;this.coords=[];this.coords2=[];this.coords.key=[];this.coordsText=[];this.coordsSpline=[];this.hasnegativevalues=!1;this.isRGraph=!0;this.uid=RGraph.CreateUID();this.canvas.uid=this.canvas.uid?this.canvas.uid:RGraph.CreateUID();this.colorsParsed=!1;RGraph.OldBrowserCompat(this.context);
this.properties={"chart.background.barcolor1":"rgba(0,0,0,0)","chart.background.barcolor2":"rgba(0,0,0,0)","chart.background.grid":1,"chart.background.grid.width":1,"chart.background.grid.hsize":25,"chart.background.grid.vsize":25,"chart.background.grid.color":"#ddd","chart.background.grid.vlines":!0,"chart.background.grid.hlines":!0,"chart.background.grid.border":!0,"chart.background.grid.autofit":!0,"chart.background.grid.autofit.align":!1,"chart.background.grid.autofit.numhlines":5,"chart.background.grid.autofit.numvlines":20,
"chart.background.grid.dashed":!1,"chart.background.grid.dotted":!1,"chart.background.hbars":null,"chart.background.image":null,"chart.background.image.stretch":!0,"chart.background.image.x":null,"chart.background.image.y":null,"chart.background.image.w":null,"chart.background.image.h":null,"chart.background.image.align":null,"chart.labels":null,"chart.labels.ingraph":null,"chart.labels.above":!1,"chart.labels.above.size":8,"chart.xtickgap":20,"chart.smallxticks":3,"chart.largexticks":5,"chart.ytickgap":20,
"chart.smallyticks":3,"chart.largeyticks":5,"chart.numyticks":10,"chart.linewidth":1.01,"chart.colors":"red #0f0 #00f #f0f #ff0 #0ff green pink blue black".split(" "),"chart.hmargin":0,"chart.tickmarks.dot.color":"white","chart.tickmarks":null,"chart.tickmarks.linewidth":null,"chart.ticksize":3,"chart.gutter.left":25,"chart.gutter.right":25,"chart.gutter.top":25,"chart.gutter.bottom":25,"chart.tickdirection":-1,"chart.yaxispoints":5,"chart.fillstyle":null,"chart.xaxispos":"bottom","chart.yaxispos":"left",
"chart.xticks":null,"chart.text.size":10,"chart.text.angle":0,"chart.text.color":"black","chart.text.font":"Arial","chart.ymin":0,"chart.ymax":null,"chart.title":"","chart.title.background":null,"chart.title.hpos":null,"chart.title.vpos":null,"chart.title.bold":!0,"chart.title.font":null,"chart.title.xaxis":"","chart.title.xaxis.bold":!0,"chart.title.xaxis.size":null,"chart.title.xaxis.font":null,"chart.title.yaxis":"","chart.title.yaxis.bold":!0,"chart.title.yaxis.size":null,"chart.title.yaxis.font":null,
"chart.title.yaxis.color":null,"chart.title.xaxis.pos":null,"chart.title.yaxis.pos":null,"chart.title.yaxis.x":null,"chart.title.yaxis.y":null,"chart.title.xaxis.x":null,"chart.title.xaxis.y":null,"chart.title.x":null,"chart.title.y":null,"chart.title.halign":null,"chart.title.valign":null,"chart.shadow":!1,"chart.shadow.offsetx":2,"chart.shadow.offsety":2,"chart.shadow.blur":3,"chart.shadow.color":"rgba(0,0,0,0.5)","chart.tooltips":null,"chart.tooltips.hotspot.xonly":!1,"chart.tooltips.hotspot.size":5,
"chart.tooltips.effect":"fade","chart.tooltips.css.class":"RGraph_tooltip","chart.tooltips.event":"onmousemove","chart.tooltips.highlight":!0,"chart.tooltips.coords.page":!1,"chart.highlight.stroke":"gray","chart.highlight.fill":"white","chart.stepped":!1,"chart.key":null,"chart.key.background":"white","chart.key.position":"graph","chart.key.halign":null,"chart.key.shadow":!1,"chart.key.shadow.color":"#666","chart.key.shadow.blur":3,"chart.key.shadow.offsetx":2,"chart.key.shadow.offsety":2,"chart.key.position.gutter.boxed":!1,
"chart.key.position.x":null,"chart.key.position.y":null,"chart.key.color.shape":"square","chart.key.rounded":!0,"chart.key.linewidth":1,"chart.key.colors":null,"chart.key.interactive":!1,"chart.key.interactive.highlight.chart.stroke":"rgba(255,0,0,0.3)","chart.key.interactive.highlight.label":"rgba(255,0,0,0.2)","chart.key.text.color":"black","chart.contextmenu":null,"chart.ylabels":!0,"chart.ylabels.count":5,"chart.ylabels.inside":!1,"chart.scale.invert":!1,"chart.xlabels.inside":!1,"chart.xlabels.inside.color":"rgba(255,255,255,0.5)",
"chart.noaxes":!1,"chart.noyaxis":!1,"chart.noxaxis":!1,"chart.noendxtick":!1,"chart.noendytick":!1,"chart.units.post":"","chart.units.pre":"","chart.scale.decimals":null,"chart.scale.point":".","chart.scale.thousand":",","chart.crosshairs":!1,"chart.crosshairs.color":"#333","chart.crosshairs.hline":!0,"chart.crosshairs.vline":!0,"chart.annotatable":!1,"chart.annotate.color":"black","chart.axesontop":!1,"chart.filled":!1,"chart.filled.range":!1,"chart.filled.range.threshold":null,"chart.filled.range.threshold.colors":["red",
"green"],"chart.filled.accumulative":!0,"chart.variant":null,"chart.axis.color":"black","chart.axis.linewidth":1,"chart.numxticks":arguments[1]&&"number"==typeof arguments[1][0]?arguments[1].length:20,"chart.numyticks":10,"chart.zoom.factor":1.5,"chart.zoom.fade.in":!0,"chart.zoom.fade.out":!0,"chart.zoom.hdir":"right","chart.zoom.vdir":"down","chart.zoom.frames":25,"chart.zoom.delay":16.666,"chart.zoom.shadow":!0,"chart.zoom.background":!0,"chart.zoom.action":"zoom","chart.backdrop":!1,"chart.backdrop.size":30,
"chart.backdrop.alpha":0.2,"chart.resizable":!1,"chart.resize.handle.adjust":[0,0],"chart.resize.handle.background":null,"chart.adjustable":!1,"chart.noredraw":!1,"chart.outofbounds":!1,"chart.chromefix":!0,"chart.animation.factor":1,"chart.animation.unfold.x":!1,"chart.animation.unfold.y":!0,"chart.animation.unfold.initial":2,"chart.animation.trace.clip":1,"chart.curvy":!1,"chart.line.visible":!0,"chart.events.click":null,"chart.events.mousemove":null};for(var q=1;q<arguments.length;++q)if("null"==
typeof arguments[q]||!arguments[q])arguments[q]=[];this.original_data=[];for(q=1;q<arguments.length;++q)if(arguments[1]&&"object"==typeof arguments[1]&&arguments[1][0]&&"object"==typeof arguments[1][0]&&arguments[1][0].length){for(var z=[],q=0;q<arguments[1].length;++q)z[q]=RGraph.array_clone(arguments[1][q]);for(var t=0;t<z.length;++t)this.original_data[t]=RGraph.array_clone(z[t])}else this.original_data[q-1]=RGraph.array_clone(arguments[q]);if(this.canvas){this.data_arr=RGraph.array_linearize(this.original_data);
for(q=0;q<this.data_arr.length;++q)this["$"+q]={};this.canvas.__rgraph_aa_translated__||(this.context.translate(0.5,0.5),this.canvas.__rgraph_aa_translated__=!0);var n=RGraph,s=this.canvas,b=s.getContext("2d"),a=this.properties;this.Set=function(c,e){c=c.toLowerCase();c.substr(0,6)!="chart."&&(c="chart."+c);if(c=="chart.tooltips"&&typeof e=="object"&&e){for(var a=[],d=1;d<arguments.length;d++)if(typeof arguments[d]=="object"&&arguments[d][0])for(var b=0;b<arguments[d].length;b++)a.push(arguments[d][b]);
else typeof arguments[d]=="function"?a=arguments[d]:a.push(arguments[d]);e=a}if(c=="chart.linewidth"&&navigator.userAgent.match(/Chrome/))if(e==1)e=1.01;else if(RGraph.is_array(e))for(d=0;d<e.length;++d)typeof e[d]=="number"&&e[d]==1&&(e[d]=1.01);if(c=="chart.xaxispos"&&e!="bottom"&&e!="center"&&e!="top"){alert("[LINE] ("+this.id+") chart.xaxispos should be top, center or bottom. Tried to set it to: "+e+" Changing it to center");e="center"}c=="chart.xticks"&&(c="chart.numxticks");c=="chart.spline"&&
(c="chart.curvy");c=="chart.ylabels.invert"&&(c="chart.scale.invert");this.properties[c]=e;return this};this.Get=function(c){c.substr(0,6)!="chart."&&(c="chart."+c);c=="chart.spline"&&(c="chart.curvy");return a[c]};this.Draw=function(){typeof a["chart.background.image"]=="string"&&n.DrawBackgroundImage(this);n.FireCustomEvent(this,"onbeforedraw");if(!this.colorsParsed){this.parseColors();this.colorsParsed=true}this.gutterLeft=a["chart.gutter.left"];this.gutterRight=a["chart.gutter.right"];this.gutterTop=
a["chart.gutter.top"];this.gutterBottom=a["chart.gutter.bottom"];a["chart.shadow"]&&(ISCHROME&&a["chart.linewidth"]<=1&&a["chart.chromefix"]&&a["chart.shadow.blur"]>0)&&alert("[RGRAPH WARNING] Chrome has a shadow bug, meaning you should increase the linewidth to at least 1.01");this.data=n.array_clone(this.original_data);this.max=0;if(a["chart.filled"]&&!a["chart.filled.range"]&&this.data.length>1&&a["chart.filled.accumulative"])for(var c=[],e=0;e<this.data.length;++e)for(var f=0;f<this.data[e].length;++f){this.data[e][f]=
Number(c[f]?c[f]:0)+this.data[e][f];c[f]=this.data[e][f]}if(a["chart.ymax"]){this.max=a["chart.ymax"];this.min=a["chart.ymin"]?a["chart.ymin"]:0;this.scale2=n.getScale2(this,{max:this.max,min:a["chart.ymin"],strict:true,"scale.thousand":a["chart.scale.thousand"],"scale.point":a["chart.scale.point"],"scale.decimals":a["chart.scale.decimals"],"ylabels.count":a["chart.ylabels.count"],"scale.round":a["chart.scale.round"],"units.pre":a["chart.units.pre"],"units.post":a["chart.units.post"]});this.max=this.scale2.max?
this.scale2.max:0;if(!a["chart.outofbounds"])for(dataset=0;dataset<this.data.length;++dataset)for(f=0;f<this.data[dataset].length;f++)this.hasnegativevalues=this.data[dataset][f]<0||this.hasnegativevalues}else{this.min=a["chart.ymin"]?a["chart.ymin"]:0;for(dataset=0;dataset<this.data.length;++dataset)for(f=0;f<this.data[dataset].length;f++){this.max=Math.max(this.max,this.data[dataset][f]?Math.abs(parseFloat(this.data[dataset][f])):0);if(!a["chart.outofbounds"])this.hasnegativevalues=this.data[dataset][f]<
0||this.hasnegativevalues}this.scale2=n.getScale2(this,{max:this.max,min:a["chart.ymin"],"scale.thousand":a["chart.scale.thousand"],"scale.point":a["chart.scale.point"],"scale.decimals":a["chart.scale.decimals"],"ylabels.count":a["chart.ylabels.count"],"scale.round":a["chart.scale.round"],"units.pre":a["chart.units.pre"],"units.post":a["chart.units.post"]});this.max=this.scale2.max?this.scale2.max:0}a["chart.contextmenu"]&&n.ShowContext(this);this.coords=[];this.coordsText=[];this.grapharea=s.height-
this.gutterTop-this.gutterBottom;this.halfgrapharea=this.grapharea/2;this.halfTextHeight=a["chart.text.size"]/2;a["chart.xaxispos"]=="bottom"&&(this.hasnegativevalues&&!ISOPERA)&&alert("[LINE] You have negative values and the X axis is at the bottom. This is not good...");a["chart.variant"]=="3d"&&n.Draw3DAxes(this);n.background.Draw(this);a["chart.background.hbars"]&&a["chart.background.hbars"].length>0&&n.DrawBars(this);a["chart.axesontop"]==false&&this.DrawAxes();b.save();b.beginPath();b.rect(0,
0,s.width*a["chart.animation.trace.clip"],s.height);b.clip();for(var e=c=0,d=this.data.length;c<d;c++,e++){b.beginPath();a["chart.filled"]||this.SetShadow(c);if(a["chart.fillstyle"])if(typeof a["chart.fillstyle"]=="object"&&a["chart.fillstyle"][e])var m=a["chart.fillstyle"][e];else typeof a["chart.fillstyle"]=="object"&&a["chart.fillstyle"].toString().indexOf("Gradient")>0?m=a["chart.fillstyle"]:typeof a["chart.fillstyle"]=="string"&&(m=a["chart.fillstyle"]);else m=a["chart.filled"]?a["chart.colors"][e]:
null;f=a["chart.tickmarks"]&&typeof a["chart.tickmarks"]=="object"?a["chart.tickmarks"][c]:a["chart.tickmarks"]&&typeof a["chart.tickmarks"]=="string"?a["chart.tickmarks"]:a["chart.tickmarks"]&&typeof a["chart.tickmarks"]=="function"?a["chart.tickmarks"]:null;this.DrawLine(this.data[c],a["chart.colors"][e],m,this.GetLineWidth(e),f,c);b.stroke()}if(a["chart.filled"]&&a["chart.filled.accumulative"]&&!a["chart.curvy"]){for(c=0;c<this.coords2.length;++c){b.beginPath();b.lineWidth=this.GetLineWidth(c);
b.strokeStyle=a["chart.colors"][c];e=0;for(d=this.coords2[c].length;e<d;++e)if(e==0||this.coords2[c][e][1]==null||this.coords2[c][e-1]&&this.coords2[c][e-1][1]==null)b.moveTo(this.coords2[c][e][0],this.coords2[c][e][1]);else{a["chart.stepped"]&&b.lineTo(this.coords2[c][e][0],this.coords2[c][e-1][1]);b.lineTo(this.coords2[c][e][0],this.coords2[c][e][1])}b.stroke()}if(a["chart.tickmarks"]){b.beginPath();b.fillStyle="white";c=0;for(d=this.coords2.length;c<d;++c){b.beginPath();b.strokeStyle=a["chart.colors"][c];
for(e=0;e<this.coords2[c].length;++e)if(typeof this.coords2[c][e]=="object"&&typeof this.coords2[c][e][0]=="number"&&typeof this.coords2[c][e][1]=="number"){f=typeof a["chart.tickmarks"]=="object"?a["chart.tickmarks"][c]:a["chart.tickmarks"];this.DrawTick(this.coords2[c],this.coords2[c][e][0],this.coords2[c][e][1],b.strokeStyle,false,e==0?0:this.coords2[c][e-1][0],e==0?0:this.coords2[c][e-1][1],f,e)}}b.stroke();b.fill()}}else if(a["chart.filled"]&&a["chart.filled.accumulative"]&&a["chart.curvy"]){for(c=
0;c<this.coordsSpline.length;c=c+1){b.beginPath();b.strokeStyle=a["chart.colors"][c];b.lineWidth=this.GetLineWidth(c);e=0;for(d=this.coordsSpline[c].length;e<d;e=e+1){f=this.coordsSpline[c][e];e==0?b.moveTo(f[0],f[1]):b.lineTo(f[0],f[1])}b.stroke()}c=0;for(d=this.coords2.length;c<d;c=c+1){e=0;for(m=this.coords2[c].length;e<m;++e)if(typeof this.coords2[c][e]=="object"&&typeof this.coords2[c][e][0]=="number"&&typeof this.coords2[c][e][1]=="number"){f=typeof a["chart.tickmarks"]=="object"&&!RGraph.is_null(a["chart.tickmarks"])?
a["chart.tickmarks"][c]:a["chart.tickmarks"];b.strokeStyle=a["chart.colors"][c];this.DrawTick(this.coords2[c],this.coords2[c][e][0],this.coords2[c][e][1],a["chart.colors"][c],false,e==0?0:this.coords2[c][e-1][0],e==0?0:this.coords2[c][e-1][1],f,e)}}}b.restore();b.beginPath();a["chart.axesontop"]&&this.DrawAxes();this.DrawLabels();this.DrawRange();a["chart.key"]&&(a["chart.key"].length&&n.DrawKey)&&n.DrawKey(this,a["chart.key"],a["chart.colors"]);a["chart.labels.above"]&&this.DrawAboveLabels();n.DrawInGraphLabels(this);
if(a["chart.filled"]&&a["chart.filled.range"]&&this.data.length==2){b.beginPath();d=this.coords.length/2;b.lineWidth=a["chart.linewidth"];b.strokeStyle=a["chart.colors"][0];for(c=0;c<d;++c)n.is_null(this.coords[c][1])||(c==0?b.moveTo(this.coords[c][0],this.coords[c][1]):b.lineTo(this.coords[c][0],this.coords[c][1]));b.stroke();b.beginPath();if(a["chart.colors"][1])b.strokeStyle=a["chart.colors"][1];for(c=this.coords.length-1;c>=d;--c)n.is_null(this.coords[c][1])||(c==this.coords.length-1?b.moveTo(this.coords[c][0],
this.coords[c][1]):b.lineTo(this.coords[c][0],this.coords[c][1]));b.stroke()}else a["chart.filled"]&&a["chart.filled.range"]&&alert("[LINE] You must have only two sets of data for a filled range chart");a["chart.resizable"]&&n.AllowResizing(this);n.InstallEventListeners(this);n.FireCustomEvent(this,"ondraw");return this};this.DrawAxes=function(){var c=RGraph,e=this.canvas,a=this.context,d=this.properties;if(!d["chart.noaxes"]){c.NoShadow(this);a.lineWidth=d["chart.axis.linewidth"]+0.001;a.lineCap=
"butt";a.strokeStyle=d["chart.axis.color"];a.beginPath();if(d["chart.noxaxis"]==false)if(d["chart.xaxispos"]=="center"){a.moveTo(this.gutterLeft,Math.round(this.grapharea/2+this.gutterTop));a.lineTo(e.width-this.gutterRight,Math.round(this.grapharea/2+this.gutterTop))}else if(d["chart.xaxispos"]=="top"){a.moveTo(this.gutterLeft,this.gutterTop);a.lineTo(e.width-this.gutterRight,this.gutterTop)}else{a.moveTo(this.gutterLeft,e.height-this.gutterBottom);a.lineTo(e.width-this.gutterRight,e.height-this.gutterBottom)}if(d["chart.noyaxis"]==
false)if(d["chart.yaxispos"]=="left"){a.moveTo(this.gutterLeft,this.gutterTop);a.lineTo(this.gutterLeft,e.height-this.gutterBottom)}else{a.moveTo(e.width-this.gutterRight,this.gutterTop);a.lineTo(e.width-this.gutterRight,e.height-this.gutterBottom)}if(d["chart.noxaxis"]==false&&d["chart.numxticks"]>0){c=(e.width-this.gutterLeft-this.gutterRight)/d["chart.numxticks"];if(!c||c<=0)c=(e.width-this.gutterLeft-this.gutterRight)/(d["chart.labels"]&&d["chart.labels"].length?d["chart.labels"].length-1:10);
for(x=this.gutterLeft+(d["chart.yaxispos"]=="left"?c:0);x<=e.width-this.gutterRight+1;x=x+c){if(d["chart.yaxispos"]=="right"&&x>=e.width-this.gutterRight-1)break;if(d["chart.noendxtick"])if(d["chart.yaxispos"]=="left"&&x>=e.width-this.gutterRight-1)break;else if(d["chart.yaxispos"]=="right"&&x==this.gutterLeft)continue;var b=d["chart.xaxispos"]=="center"?this.gutterTop+this.grapharea/2-3:e.height-this.gutterBottom,j=d["chart.xaxispos"]=="center"?b+6:e.height-this.gutterBottom-(x%60==0?d["chart.largexticks"]*
d["chart.tickdirection"]:d["chart.smallxticks"]*d["chart.tickdirection"]);if(d["chart.xaxispos"]=="center"){b=Math.round(this.gutterTop+this.grapharea/2)-3;j=b+6}else if(d["chart.xaxispos"]=="bottom"){b=e.height-this.gutterBottom;j=e.height-this.gutterBottom-(x%60==0?d["chart.largexticks"]*d["chart.tickdirection"]:d["chart.smallxticks"]*d["chart.tickdirection"]);j=j+0}else if(d["chart.xaxispos"]=="top"){b=this.gutterTop-3;j=this.gutterTop}a.moveTo(Math.round(x),b);a.lineTo(Math.round(x),j)}}else if(d["chart.noyaxis"]==
false&&d["chart.numyticks"]>0&&!d["chart.noendytick"])if(d["chart.yaxispos"]=="left"){a.moveTo(this.gutterLeft,Math.round(e.height-this.gutterBottom));a.lineTo(this.gutterLeft-d["chart.smallyticks"],Math.round(e.height-this.gutterBottom))}else{a.moveTo(e.width-this.gutterRight,Math.round(e.height-this.gutterBottom));a.lineTo(e.width-this.gutterRight+d["chart.smallyticks"],Math.round(e.height-this.gutterBottom))}b=d["chart.numyticks"];if(d["chart.noyaxis"]==false&&b>0){var h=j=0;d["chart.yaxispos"]==
"right"&&(h=e.width-this.gutterLeft-this.gutterRight);if(d["chart.xaxispos"]=="center"){b=this.grapharea/b;c=d["chart.yaxispos"]=="left"?this.gutterLeft:e.width-this.gutterRight+d["chart.smallyticks"];for(y=this.gutterTop;y<this.grapharea/2+this.gutterTop;y=y+b)if(y<this.grapharea/2+this.gutterTop){a.moveTo(d["chart.yaxispos"]=="left"?this.gutterLeft-d["chart.smallyticks"]:e.width-this.gutterRight,Math.round(y));a.lineTo(c,Math.round(y))}for(y=this.gutterTop+this.halfgrapharea+b;y<=this.grapharea+
this.gutterTop;y=y+b){a.moveTo(d["chart.yaxispos"]=="left"?this.gutterLeft-d["chart.smallyticks"]:e.width-this.gutterRight,Math.round(y));a.lineTo(c,Math.round(y))}}else if(d["chart.xaxispos"]=="top"){b=this.grapharea/b;c=d["chart.yaxispos"]=="left"?this.gutterLeft:e.width-this.gutterRight+d["chart.smallyticks"];for(y=this.gutterTop+b;y<=this.grapharea+this.gutterTop;y=y+b){a.moveTo(d["chart.yaxispos"]=="left"?this.gutterLeft-d["chart.smallyticks"]:e.width-this.gutterRight,Math.round(y));a.lineTo(c,
Math.round(y))}if(d["chart.noxaxis"]&&d["chart.noendytick"]==false){a.moveTo(d["chart.yaxispos"]=="left"?this.gutterLeft-d["chart.smallyticks"]:e.width-this.gutterRight,this.gutterTop);a.lineTo(c,this.gutterTop)}}else{c=d["chart.yaxispos"]=="left"?this.gutterLeft-d["chart.smallyticks"]:e.width-this.gutterRight+d["chart.smallyticks"];for(y=this.gutterTop;y<e.height-this.gutterBottom&&j<b;y=y+(e.height-this.gutterTop-this.gutterBottom)/b){a.moveTo(this.gutterLeft+h,Math.round(y));a.lineTo(c,Math.round(y));
j=j+1}}}else if(d["chart.noxaxis"]==false&&d["chart.numxticks"]>0)if(d["chart.yaxispos"]=="left"){a.moveTo(this.gutterLeft,d["chart.xaxispos"]=="top"?this.gutterTop:e.height-this.gutterBottom);a.lineTo(this.gutterLeft,d["chart.xaxispos"]=="top"?this.gutterTop-d["chart.smallxticks"]:e.height-this.gutterBottom+d["chart.smallxticks"])}else{a.moveTo(e.width-this.gutterRight,e.height-this.gutterBottom);a.lineTo(e.width-this.gutterRight,e.height-this.gutterBottom+d["chart.smallxticks"])}a.stroke()}};this.DrawLabels=
function(){b.strokeStyle="black";b.fillStyle=a["chart.text.color"];b.lineWidth=1;n.NoShadow(this);var c=a["chart.text.font"],e=a["chart.text.size"],f=a["chart.scale.decimals"],d=a["chart.ymin"];if(a["chart.ylabels"]&&a["chart.ylabels.specific"]==null){var m=a["chart.units.pre"],j=a["chart.units.post"],h=a["chart.yaxispos"]=="left"?this.gutterLeft-5:s.width-this.gutterRight+5,g=a["chart.yaxispos"]=="left"?"right":"left",k=this.scale2.labels.length,i=false,p=a["chart.ylabels.inside"]?a["chart.ylabels.inside.color"]:
null;if(a["chart.ylabels.inside"]==true&&g=="left"){h=h-10;g="right";i=true}else if(a["chart.ylabels.inside"]==true&&g=="right"){h=h+10;g="left";i=true}if(a["chart.xaxispos"]=="center"){for(var m=this.grapharea/2,l=0;l<this.scale2.labels.length;++l)n.Text2(this,{font:c,size:e,x:h,y:this.gutterTop+m-(l+1)/k*m,valign:"center",halign:g,bounding:i,boundingFill:p,text:this.scale2.labels[l],tag:"scale"});for(l=0;l<this.scale2.labels.length;++l)n.Text2(this,{font:c,size:e,x:h,y:this.gutterTop+m+(l+1)/k*
m,valign:"center",halign:g,bounding:i,boundingFill:p,text:"-"+this.scale2.labels[l],tag:"scale"});(a["chart.noxaxis"]==true||d!=0)&&n.Text2(this,{font:c,size:e,x:h,y:this.gutterTop+m,text:a["chart.units.pre"]+d.toFixed(f)+a["chart.units.post"],bounding:i,boundingFill:p,valign:"center",halign:g,tag:"scale"})}else if(a["chart.xaxispos"]=="top"){if(a["chart.scale.invert"])for(l=0;l<this.scale2.labels.length;++l)n.Text2(this,{font:c,size:e,x:h,y:this.gutterTop+l/this.scale2.labels.length*this.grapharea,
valign:"center",halign:g,bounding:i,boundingFill:p,text:"-"+this.scale2.labels[this.scale2.labels.length-(l+1)],tag:"scale"});else for(l=0;l<this.scale2.labels.length;++l)n.Text2(this,{font:c,size:e,x:h,y:this.gutterTop+(l+1)/k*this.grapharea,valign:"center",halign:g,bounding:i,boundingFill:p,text:"-"+this.scale2.labels[l],tag:"scale"});if(a["chart.ymin"]!=0||a["chart.noxaxis"]||a["chart.scale.invert"])n.Text2(this,{font:c,size:e,x:h,y:a["chart.scale.invert"]?s.height-this.gutterBottom:this.gutterTop,
text:(a["chart.ymin"]!=0?"-":"")+n.number_format(this,a["chart.ymin"].toFixed(f),m,j),valign:"center",halign:g,bounding:i,boundingFill:p,tag:"scale"})}else{if(a["chart.scale.invert"]){n.Text2(this,{font:c,size:e,x:h,y:this.gutterTop,valign:"center",halign:g,bounding:i,boundingFill:p,text:n.number_format(this,this.min.toFixed(a["chart.scale.decimals"]),m,j),tag:"scale"});l=0;for(d=this.scale2.labels.length;l<d;++l)n.Text2(this,{font:c,size:e,x:h,y:this.gutterTop+(l+1)/this.scale2.labels.length*this.grapharea,
valign:"center",halign:g,bounding:i,boundingFill:p,text:this.scale2.labels[l],tag:"scale"})}else{l=0;for(d=this.scale2.labels.length;l<d;++l)n.Text2(this,{font:c,size:e,x:h,y:this.gutterTop+l/this.scale2.labels.length*this.grapharea,valign:"center",halign:g,bounding:i,boundingFill:p,text:this.scale2.labels[this.scale2.labels.length-(l+1)],tag:"scale"})}if(a["chart.ymin"]!=0&&!a["chart.scale.invert"]||a["chart.noxaxis"])n.Text2(this,{font:c,size:e,x:h,y:a["chart.scale.invert"]?this.gutterTop:s.height-
this.gutterBottom,text:n.number_format(this,a["chart.ymin"].toFixed(a["chart.scale.decimals"]),m,j),valign:"center",halign:g,bounding:i,boundingFill:p,tag:"scale"})}a["chart.noxaxis"]==true&&(a["chart.ymin"]==null&&a["chart.xaxispos"]!="center"&&a["chart.noendytick"]==false)&&n.Text2(this,{font:c,size:e,x:h,y:a["chart.xaxispos"]=="top"?this.gutterTop:s.height-this.gutterBottom,text:a["chart.units.pre"]+(0).toFixed(a["chart.scale.decimals"])+a["chart.units.post"],valign:"center",halign:g,bounding:i,
boundingFill:p,tag:"scale"})}else if(a["chart.ylabels"]&&typeof a["chart.ylabels.specific"]=="object"){f=a["chart.yaxispos"]=="left"?"right":"left";i=false;p=null;d=a["chart.ymin"]!=null&&a["chart.ymin"];if(a["chart.yaxispos"]=="left"){h=this.gutterLeft-5;if(a["chart.ylabels.inside"]){h=h+10;f="left";i=true;p="rgba(255,255,255,0.5)"}}else if(a["chart.yaxispos"]=="right"){h=s.width-this.gutterRight+5;if(a["chart.ylabels.inside"]){h=h-10;f="right";i=true;p="rgba(255,255,255,0.5)"}}if(a["chart.xaxispos"]==
"center"){for(l=0;l<a["chart.ylabels.specific"].length;++l){g=this.gutterTop+this.grapharea/((a["chart.ylabels.specific"].length-1)*2)*l;if(d&&d>0){g=this.grapharea/2/(a["chart.ylabels.specific"].length-(d?1:0))*l;g=g+this.gutterTop}n.Text2(this,{font:c,size:e,x:h,y:g,text:String(a["chart.ylabels.specific"][l]),valign:"center",halign:f,bounding:i,boundingFill:p,tag:"ylabels.specific"})}d=n.array_reverse(a["chart.ylabels.specific"]);for(l=0;l<d.length;++l){g=this.grapharea/2+this.gutterTop+this.grapharea/
((d.length-1)*2)*l;n.Text2(this,{font:c,size:e,x:h,y:g,text:l==0?"":String(d[l]),valign:"center",halign:f,bounding:i,boundingFill:p,tag:"ylabels.specific"})}}else if(a["chart.xaxispos"]=="top"){d=n.array_reverse(a["chart.ylabels.specific"]);for(l=0;l<d.length;++l){g=this.grapharea/(d.length-1)*l;g=g+this.gutterTop;n.Text2(this,{font:c,size:e,x:h,y:g,text:String(d[l]),valign:"center",halign:f,bounding:i,boundingFill:p,tag:"ylabels.specific"})}}else for(l=0;l<a["chart.ylabels.specific"].length;++l){g=
this.gutterTop+this.grapharea/(a["chart.ylabels.specific"].length-1)*l;n.Text2(this,{font:c,size:e,x:h,y:g,text:String(a["chart.ylabels.specific"][l]),valign:"center",halign:f,bounding:i,boundingFill:p,tag:"ylabels.specific"})}}if(a["chart.labels"]&&a["chart.labels"].length>0){i=5;d=false;p=null;h=0;g="top";f="center";if(a["chart.xlabels.inside"]){i=-5;d=true;p=a["chart.xlabels.inside.color"];g="bottom"}if(a["chart.xaxispos"]=="top"){g="bottom";i=i+2}if(typeof a["chart.text.angle"]=="number"&&a["chart.text.angle"]>
0){h=-1*a["chart.text.angle"];g="center";f="right";i=10;a["chart.xaxispos"]=="top"&&(i=10)}b.fillStyle=a["chart.text.color"];m=a["chart.labels"].length;for(l=0;l<m;++l)if(a["chart.labels"][l]){j=(s.width-this.gutterLeft-this.gutterRight-2*a["chart.hmargin"])/(m-1)*l;j=j+(this.gutterLeft+a["chart.hmargin"]);a["chart.labels"].length!=this.data[0].length&&(j=this.gutterLeft+a["chart.hmargin"]+(s.width-this.gutterLeft-this.gutterRight-2*a["chart.hmargin"])*(l/(a["chart.labels"].length-1)));j||(j=this.gutterLeft+
a["chart.hmargin"]);a["chart.xaxispos"]=="top"&&a["chart.text.angle"]>0&&(f="left");a["chart.text.angle"]!=0&&(f="right");n.Text2(this,{font:c,size:e,x:j,y:a["chart.xaxispos"]=="top"?this.gutterTop-i-(a["chart.xlabels.inside"]?-22:0):s.height-this.gutterBottom+i,text:String(a["chart.labels"][l]),valign:g,halign:f,bounding:d,boundingFill:p,angle:h,tag:"labels"})}}b.stroke();b.fill()};this.DrawLine=function(c,e,a,d,b,j){var h=this.canvas,g=this.context,k=this.properties;if(k["chart.animation.unfold.y"]&&
k["chart.animation.factor"]!=1)for(var i=0;i<c.length;++i)c[i]=c[i]*k["chart.animation.factor"];var p=false,l=null,r=0;g.lineWidth=1;var o=[];if(j>0)var q=this.coords2[j-1];for(var s=(h.width-2*k["chart.hmargin"]-this.gutterLeft-this.gutterRight)/(c.length-1),i=0;i<c.length;i++){l=this.getYCoord(c[i]);if(c[i]==null||k["chart.xaxispos"]=="bottom"&&c[i]<this.min&&!k["chart.outofbounds"]||k["chart.xaxispos"]=="center"&&c[i]<-1*this.max&&!k["chart.outofbounds"])l=null;g.lineCap="round";g.lineJoin="round";
r=i>0?r+s:k["chart.hmargin"]+this.gutterLeft;if(k["chart.animation.unfold.x"]){r=r*k["chart.animation.factor"];r<k["chart.gutter.left"]&&(r=k["chart.gutter.left"])}this.coords.push([r,l]);o.push([r,l])}g.stroke();this.coords2[j]=o;ISOLD&&k["chart.shadow"]&&this.DrawIEShadow(o,g.shadowColor);g.beginPath();g.strokeStyle="rgba(0,0,0,0)";if(a)g.fillStyle=a;var s=k["chart.stepped"],u=k["chart.filled"];if(k["chart.xaxispos"]=="top")var w=this.gutterTop;else k["chart.xaxispos"]=="center"?w=this.gutterTop+
this.grapharea/2:k["chart.xaxispos"]=="bottom"&&(w=h.height-this.gutterBottom);for(i=0;i<o.length;++i){var r=o[i][0],l=o[i][1],v=o[i-1]?o[i-1][1]:null,t=i+1==o.length;if(v<this.gutterTop||v>h.height-this.gutterBottom)p=true;if(i==0||p||!l||!v||v<this.gutterTop){if(k["chart.filled"]&&!k["chart.filled.range"]){g.moveTo(r+1,w);k["chart.xaxispos"]=="top"&&g.moveTo(r+1,w);g.lineTo(r,l)}else ISOLD&&l==null||g.moveTo(r+1,l);p=l==null?true:false}else{s&&g.lineTo(r,o[i-1][1]);if(l>=this.gutterTop&&l<=h.height-
this.gutterBottom||k["chart.outofbounds"]){t&&(k["chart.filled"]&&!k["chart.filled.range"]&&k["chart.yaxispos"]=="right")&&(r=r-1);if(!s||!t){g.lineTo(r,l);u&&(o[i+1]&&o[i+1][1]==null)&&g.lineTo(r,w)}else s&&t&&g.lineTo(r,l);p=false}else p=true}}if(k["chart.filled"]&&!k["chart.filled.range"]&&!k["chart.curvy"]){if(j>0&&k["chart.filled.accumulative"]){g.lineTo(r,q?q[i-1][1]:h.height-this.gutterBottom-1+(k["chart.xaxispos"]=="center"?(h.height-this.gutterTop-this.gutterBottom)/2:0));for(i=i-1;i>=0;--i)g.lineTo(i==
0?q[i][0]+1:q[i][0],q[i][1])}else if(k["chart.xaxispos"]=="top"){g.lineTo(r,k["chart.gutter.top"]+1);g.lineTo(o[0][0],k["chart.gutter.top"]+1)}else if(typeof o[i-1][1]=="number"){i=k["chart.xaxispos"]=="center"?(h.height-this.gutterTop-this.gutterBottom)/2+this.gutterTop:h.height-this.gutterBottom;g.lineTo(r,i);g.lineTo(o[0][0],i)}g.fillStyle=a;g.fill();g.beginPath()}if(ISCHROME&&k["chart.shadow"]&&k["chart.chromefix"]&&k["chart.shadow.blur"]>0)for(i=o.length-1;i>=0;--i)typeof o[i][1]!="number"||
typeof o[i+1]=="object"&&typeof o[i+1][1]!="number"?g.moveTo(o[i][0],o[i][1]):g.lineTo(o[i][0],o[i][1]);g.stroke();k["chart.backdrop"]&&this.DrawBackdrop(o,e);g.save();g.beginPath();g.rect(0,0,h.width*k["chart.animation.trace.clip"],h.height);g.clip();this.SetShadow(j);this.RedrawLine(o,e,d,j);g.stroke();n.NoShadow(this);for(i=0;i<o.length;++i){i=Number(i);g.strokeStyle=e;s&&i==o.length-1&&g.beginPath();if(b!="endcircle"&&b!="endsquare"&&b!="filledendsquare"&&b!="endtick"&&b!="endtriangle"&&b!="arrow"&&
b!="filledarrow"||i==0&&b!="arrow"&&b!="filledarrow"||i==o.length-1){a=i<=0?null:o[i-1][0];v=i<=0?null:o[i-1][1];this.DrawTick(c,o[i][0],o[i][1],e,false,a,v,b,i)}}g.restore();g.beginPath();g.arc(h.width+5E4,h.height+5E4,2,0,6.38,1)};this.DrawTick=function(c,e,f,d,m,j,h,g,k){if(a["chart.line.visible"]&&!n.is_null(f)&&(!(f>s.height-this.gutterBottom)||a["chart.outofbounds"]))if(!(f<this.gutterTop)||a["chart.outofbounds"]){b.beginPath();b.lineWidth=a["chart.tickmarks.linewidth"]?a["chart.tickmarks.linewidth"]:
a["chart.linewidth"];b.strokeStyle=m?a["chart.shadow.color"]:b.strokeStyle;b.fillStyle=m?a["chart.shadow.color"]:b.strokeStyle;if(g=="circle"||g=="filledcircle"||g=="endcircle"){if(g=="circle"||g=="filledcircle"||g=="endcircle"&&(k==0||k==c.length-1)){b.beginPath();b.arc(e+0,f+0,a["chart.ticksize"],0,360/(180/PI),false);b.fillStyle=g=="filledcircle"?m?a["chart.shadow.color"]:b.strokeStyle:m?a["chart.shadow.color"]:"white";b.stroke();b.fill()}}else if(g=="halftick"){b.beginPath();b.moveTo(Math.round(e),
f);b.lineTo(Math.round(e),f+a["chart.ticksize"]);b.stroke()}else if(g=="tick"){b.beginPath();b.moveTo(Math.round(e),f-a["chart.ticksize"]);b.lineTo(Math.round(e),f+a["chart.ticksize"]);b.stroke()}else if(g=="endtick"&&(k==0||k==c.length-1)){b.beginPath();b.moveTo(Math.round(e),f-a["chart.ticksize"]);b.lineTo(Math.round(e),f+a["chart.ticksize"]);b.stroke()}else if(g=="cross"){b.beginPath();h=a["chart.ticksize"];b.moveTo(e-h,f-h);b.lineTo(e+h,f+h);b.moveTo(e+h,f-h);b.lineTo(e-h,f+h);b.stroke()}else if(g==
"triangle"||g=="filledtriangle"||g=="endtriangle"&&(k==0||k==c.length-1)){b.beginPath();b.fillStyle=g=="filledtriangle"?m?a["chart.shadow.color"]:b.strokeStyle:"white";b.moveTo(Math.round(e-a["chart.ticksize"]),f+a["chart.ticksize"]);b.lineTo(Math.round(e),f-a["chart.ticksize"]);b.lineTo(Math.round(e+a["chart.ticksize"]),f+a["chart.ticksize"]);b.closePath();b.stroke();b.fill()}else if(g=="borderedcircle"||g=="dot"){b.lineWidth=1;b.strokeStyle=a["chart.tickmarks.dot.color"];b.fillStyle=a["chart.tickmarks.dot.color"];
b.beginPath();b.arc(e,f,a["chart.ticksize"],0,360/(180/PI),false);b.closePath();b.fill();b.stroke();b.beginPath();b.fillStyle=d;b.strokeStyle=d;b.arc(e,f,a["chart.ticksize"]-2,0,360/(180/PI),false);b.closePath();b.fill();b.stroke()}else if(g=="square"||g=="filledsquare"||g=="endsquare"&&(k==0||k==c.length-1)||g=="filledendsquare"&&(k==0||k==c.length-1)){b.fillStyle="white";b.strokeStyle=b.strokeStyle;b.beginPath();b.rect(Math.round(e-a["chart.ticksize"]),Math.round(f-a["chart.ticksize"]),a["chart.ticksize"]*
2,a["chart.ticksize"]*2);if(g=="filledsquare"||g=="filledendsquare"){b.fillStyle=m?a["chart.shadow.color"]:b.strokeStyle;b.rect(Math.round(e-a["chart.ticksize"]),Math.round(f-a["chart.ticksize"]),a["chart.ticksize"]*2,a["chart.ticksize"]*2)}else if(g=="square"||g=="endsquare"){b.fillStyle=m?a["chart.shadow.color"]:"white";b.rect(Math.round(e-a["chart.ticksize"]+1),Math.round(f-a["chart.ticksize"]+1),a["chart.ticksize"]*2-2,a["chart.ticksize"]*2-2)}b.stroke();b.fill()}else if(g=="filledarrow"){j=Math.abs(e-
j);d=Math.abs(f-h);h=f<h?Math.atan(j/d)+1.57:Math.atan(d/j)+3.14;b.beginPath();b.moveTo(Math.round(e),Math.round(f));b.arc(Math.round(e),Math.round(f),7,h-0.5,h+0.5,false);b.closePath();b.stroke();b.fill()}else if(g=="arrow"){c=b.lineWidth;j=Math.abs(e-j);d=Math.abs(f-h);b.lineWidth;h=f<h?Math.atan(j/d)+1.57:Math.atan(d/j)+3.14;b.beginPath();b.moveTo(Math.round(e),Math.round(f));b.arc(Math.round(e),Math.round(f),7,h-0.5-(document.all?0.1:0.01),h-0.4,false);b.moveTo(Math.round(e),Math.round(f));b.arc(Math.round(e),
Math.round(f),7,h+0.5+(document.all?0.1:0.01),h+0.5,true);b.stroke();b.fill();b.lineWidth=c}else typeof g=="function"&&g(this,c,c[k],k,e,f,d,j,h)}};this.DrawRange=function(){var c=RGraph,a=this.canvas,f=this.context,d=this.properties;if(d["chart.filled.range"]&&d["chart.filled"]&&d["chart.line.visible"]){if(c.is_null(d["chart.filled.range.threshold"])){d["chart.filled.range.threshold"]=this.ymin;d["chart.filled.range.threshold.colors"]=[d["chart.fillstyle"],d["chart.fillstyle"]]}for(var b=0;b<2;++b){var j=
this.getYCoord(d["chart.filled.range.threshold"]);f.save();if(b==0){f.beginPath();f.rect(0,0,a.width,j)}else{f.beginPath();f.rect(0,j,a.width,a.height)}f.clip();f.beginPath();f.fillStyle=b==1?d["chart.filled.range.threshold.colors"][1]:d["chart.filled.range.threshold.colors"][0];f.lineWidth=1;for(var j=this.coords.length/2,h=0;h<j;++h)c.is_null(this.coords[h][1])||(h==0?f.moveTo(this.coords[h][0],this.coords[h][1]):f.lineTo(this.coords[h][0],this.coords[h][1]));for(h=this.coords.length-1;h>=j;--h)c.is_null(this.coords[h][1])?
f.moveTo(this.coords[h][0],this.coords[h][1]):f.lineTo(this.coords[h][0],this.coords[h][1]);f.fill();f.restore()}}};this.RedrawLine=function(c,a,f,d){var b=this.canvas,j=this.context,h=this.properties;if(!h["chart.noredraw"]&&!h["chart.filled.range"]){j.strokeStyle=typeof a=="object"&&a&&a.toString().indexOf("CanvasGradient")==-1?a[0]:a;j.lineWidth=f;if(!h["chart.line.visible"])j.strokeStyle="rgba(0,0,0,0)";if(!ISOLD&&(h["chart.curvy"]||h["chart.spline"]))this.DrawCurvyLine(c,!h["chart.line.visible"]?
"rgba(0,0,0,0)":a,f,d);else{j.beginPath();for(var f=c.length,d=b.width,b=b.height,g=false,k=0;k<f;++k){var i=c[k][1];if(k>0)var n=c[k-1][0],l=c[k-1][1];if((k==0&&c[k]||i<this.gutterTop||l<this.gutterTop||i>b-this.gutterBottom||k>0&&n>d-this.gutterRight||k>0&&l>b-this.gutterBottom||l==null||g==true)&&(!h["chart.outofbounds"]||i==null||l==null))ISOLD&&i==null||j.moveTo(c[k][0],c[k][1]);else{h["chart.stepped"]&&k>0&&j.lineTo(c[k][0],c[k-1][1]);j.lineTo(c[k][0],c[k][1])}g=false}if(h["chart.colors.alternate"]&&
typeof a=="object"&&a[0]&&a[1])for(k=1;k<f;++k){n=c[k-1][0];l=c[k-1][1];if(l!=null&&c[k][1]!=null){j.beginPath();j.strokeStyle=a[c[k][1]<l?0:1];j.lineWidth=h["chart.linewidth"];j.moveTo(n,l);j.lineTo(c[k][0],c[k][1]);j.stroke()}}}}};this.DrawIEShadow=function(c,a){var f=this.context,d=this.properties,b=d["chart.shadow.offsetx"],j=d["chart.shadow.offsety"];f.lineWidth=d["chart.linewidth"];f.strokeStyle=a;f.beginPath();for(d=0;d<c.length;++d)d==0?f.moveTo(c[d][0]+b,c[d][1]+j):f.lineTo(c[d][0]+b,c[d][1]+
j);f.stroke()};this.DrawBackdrop=function(c,a){var f=this.context,d=this.properties;f.lineWidth=d["chart.backdrop.size"];f.globalAlpha=d["chart.backdrop.alpha"];f.strokeStyle=a;var b=[];f.beginPath();if(d["chart.curvy"]&&!ISOLD){for(d=0;d<c.length;++d)b.push(c[d][1]);this.DrawSpline(f,b,a,null)}else{f.moveTo(c[0][0],c[0][1]);for(b=1;b<c.length;++b)f.lineTo(c[b][0],c[b][1])}f.stroke();f.globalAlpha=1;n.NoShadow(this)};this.GetLineWidth=function(c){var e=a["chart.linewidth"];if(typeof e=="number")return e;
if(typeof e=="object")return e[c]?e[c]:e[0]};this.getShape=this.getPoint=function(c,a){var b=this,d=RGraph;canvas=c.target;context=this.context;var m=this.properties,j=d.getMouseXY(c),h=j[0],g=j[1];a&&(b=a);for(j=0;j<b.coords.length;++j){var k=b.coords[j][0],i=b.coords[j][1];if(h<=k+m["chart.tooltips.hotspot.size"]&&h>=k-m["chart.tooltips.hotspot.size"]&&g<=i+m["chart.tooltips.hotspot.size"]&&g>=i-m["chart.tooltips.hotspot.size"]){if(d.parseTooltipText)var n=d.parseTooltipText(m["chart.tooltips"],
j);d=0;for(m=j;m+1>this.data[d].length;){m=m-this.data[d].length;d++}return{"0":b,1:k,2:i,3:j,object:b,x:k,y:i,index:j,tooltip:n,dataset:d,index_adjusted:m}}if(m["chart.tooltips.hotspot.xonly"]==true&&h<=k+m["chart.tooltips.hotspot.size"]&&h>=k-m["chart.tooltips.hotspot.size"]){n=d.parseTooltipText(m["chart.tooltips"],j);return{"0":b,1:k,2:i,3:j,object:b,x:k,y:i,index:j,tooltip:n}}}};this.DrawAboveLabels=function(){var c=RGraph,a=this.context,b=this.properties,d=b["chart.labels.above.size"],m=b["chart.text.font"],
j=b["chart.units.pre"],b=b["chart.units.post"];a.beginPath();for(var h=0,g=this.coords.length;h<g;++h){var k=this.coords[h];c.Text2(this,{font:m,size:d,x:k[0],y:k[1]-5-d,text:c.number_format(this,this.data_arr[h],j,b),valign:"center",halign:"center",bounding:true,boundingFill:"white",tag:"labels.above"})}a.fill()};this.DrawCurvyLine=function(c,a,b,d){var b=this.canvas,m=this.context,j=this.properties;if(!ISOLD){for(var h=[],g=0;g<c.length;++g)h.push(c[g][1]);if(j["chart.filled"]){m.beginPath();m.moveTo(c[0][0],
b.height-this.gutterBottom);this.DrawSpline(m,h,a,d);if(j["chart.filled.accumulative"]&&d>0)for(g=this.coordsSpline[d-1].length-1;g>=0;g=g-1)m.lineTo(this.coordsSpline[d-1][g][0],this.coordsSpline[d-1][g][1]);else m.lineTo(c[c.length-1][0],b.height-this.gutterBottom);m.fill()}m.beginPath();this.DrawSpline(m,h,a,d);m.stroke()}};this.getValue=function(c){var c=c.length==2?c[1]:n.getMouseXY(c)[1],e=a["chart.xaxispos"];if(c<a["chart.gutter.top"])return e=="bottom"||e=="center"?this.max:this.min;if(c>
s.height-a["chart.gutter.bottom"])return e=="bottom"?this.min:this.max;if(a["chart.xaxispos"]=="center"){c=(this.grapharea/2-(c-a["chart.gutter.top"]))/this.grapharea*(this.max-this.min);c=c*2;c>0?c=c+this.min:c=c-this.min;return c}if(a["chart.xaxispos"]=="top"){c=(this.grapharea-(c-a["chart.gutter.top"]))/this.grapharea*(this.max-this.min);c=Math.abs(this.max-c)*-1}else{c=(this.grapharea-(c-a["chart.gutter.top"]))/this.grapharea*(this.max-this.min);c=c+this.min}return c};this.Highlight=function(c){a["chart.tooltips.highlight"]&&
n.Highlight.Point(this,c)};this.getObjectByXY=function(c){var a=this.canvas,b=this.properties,c=n.getMouseXY(c);if(c[0]>b["chart.gutter.left"]-5&&c[0]<a.width-b["chart.gutter.right"]+5&&c[1]>b["chart.gutter.top"]-5&&c[1]<a.height-b["chart.gutter.bottom"]+5)return this};this.Adjusting_mousemove=function(c){if(a["chart.adjustable"]&&n.Registry.Get("chart.adjusting")&&n.Registry.Get("chart.adjusting").uid==this.uid){var e=Number(this.getValue(c)),b=n.Registry.Get("chart.adjusting.shape");if(b){n.Registry.Set("chart.adjusting.shape",
b);this.original_data[b.dataset][b.index_adjusted]=Number(e);n.RedrawCanvas(c.target);n.FireCustomEvent(this,"onadjust")}}};this.getYCoord=function(c){var a=this.canvas,b=this.properties;if(typeof c!="number")return null;var d=b["chart.xaxispos"];if(d=="top"){c<0&&(c=Math.abs(c));c=(c-this.min)/(this.max-this.min)*this.grapharea;b["chart.scale.invert"]&&(c=this.grapharea-c);c=c+this.gutterTop}else if(d=="center"){c=(c-this.min)/(this.max-this.min)*(this.grapharea/2);c=this.grapharea/2-c;c=c+this.gutterTop}else{if((c<
this.min||c>this.max)&&b["chart.outofbounds"]==false)return null;c=(c-this.min)/(this.max-this.min)*this.grapharea;b["chart.scale.invert"]&&(c=this.grapharea-c);c=a.height-this.gutterBottom-c}return c};this.positionTooltip=function(c,a,b,d){a=c.coords[d.__index__][0];c=n.getCanvasXY(c.canvas);b=d.offsetWidth;d.style.left=0;d.style.top=parseInt(d.style.top)-9+"px";d.style.overflow="";var m=new Image;m.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAFCAYAAACjKgd3AAAARUlEQVQYV2NkQAN79+797+RkhC4M5+/bd47B2dmZEVkBCgcmgcsgbAaA9GA1BCSBbhAuA/AagmwQPgMIGgIzCD0M0AMMAEFVIAa6UQgcAAAAAElFTkSuQmCC";
m.style.position="absolute";m.id="__rgraph_tooltip_pointer__";m.style.top=d.offsetHeight-2+"px";d.appendChild(m);if(c[0]+a-b/2<10){d.style.left=c[0]+a-b*0.2+"px";m.style.left=b*0.2-8.5+"px"}else if(c[0]+a+b/2>document.body.offsetWidth){d.style.left=c[0]+a-b*0.8+"px";m.style.left=b*0.8-8.5+"px"}else{d.style.left=c[0]+a-b*0.5+"px";m.style.left=b*0.5-8.5+"px"}};this.DrawSpline=function(a,e,b,d){var m=a.canvas,j=this.properties;this.coordsSpline[d]=[];var h=[],g=j["chart.gutter.left"],k=j["chart.hmargin"],
m=(m.width-(g+j["chart.gutter.right"])-2*k)/(e.length-1);a.strokeStyle=b;e.forEach(function(a,c,b){typeof a=="object"&&(a&&a.length==2)&&(b[c]=Number(a[1]))});b=[e[0]];for(j=0;j<e.length;++j)b.push(e[j]);b.push(e[e.length-1]+(e[e.length-1]-e[e.length-2]));for(e=1;e<b.length-2;++e)for(j=0;j<10;++j){var i=0.5*(2*b[e]+(0-b[e-1]+b[e+1])*(j/10)+((2*b[e-1]-5*b[e]+4*b[e+1]-b[e+2])*j/10*(j/10)+(0-b[e-1]+3*b[e]-3*b[e+1]+b[e+2])*j/10*(j/10)*(j/10)));h.push((e-1)*m+j*(m/10)+g+k);a.lineTo(h[h.length-1],i);typeof d==
"number"&&this.coordsSpline[d].push([h[h.length-1],i])}a.lineTo((e-1)*m+g+k,b[e]);typeof d=="number"&&this.coordsSpline[d].push([(e-1)*m+g+k,b[e]])};this.parseColors=function(){for(var a=this.properties,b=0;b<a["chart.colors"].length;++b)if(typeof a["chart.colors"][b]=="object"&&a["chart.colors"][b][0]&&a["chart.colors"][b][1]){a["chart.colors"][b][0]=this.parseSingleColorForGradient(a["chart.colors"][b][0]);a["chart.colors"][b][1]=this.parseSingleColorForGradient(a["chart.colors"][b][1])}else a["chart.colors"][b]=
this.parseSingleColorForGradient(a["chart.colors"][b]);if(a["chart.fillstyle"])if(typeof a["chart.fillstyle"]=="string")a["chart.fillstyle"]=this.parseSingleColorForGradient(a["chart.fillstyle"],"vertical");else for(b=0;b<a["chart.fillstyle"].length;++b)a["chart.fillstyle"][b]=this.parseSingleColorForGradient(a["chart.fillstyle"][b],"vertical");if(!n.is_null(a["chart.key.colors"]))for(b=0;b<a["chart.key.colors"].length;++b)a["chart.key.colors"][b]=this.parseSingleColorForGradient(a["chart.key.colors"][b]);
for(var f=["chart.background.barcolor1","chart.background.barcolor2","chart.background.grid.color","chart.text.color","chart.crosshairs.color","chart.annotate.color","chart.title.color","chart.title.yaxis.color","chart.key.background","chart.axis.color","chart.highlight.fill"],b=0;b<f.length;++b)a[f[b]]=this.parseSingleColorForGradient(a[f[b]])};this.parseSingleColorForGradient=function(a,b){var f=RGraph,d=this.canvas,m=this.context;if(!a||typeof a!="string")return a;var j=typeof b=="string"?b:"horizontal";
if(a.match(/^gradient\((.*)\)$/i)){var h=RegExp.$1.split(":"),g=j=="horizontal"?m.createLinearGradient(0,0,d.width,0):m.createLinearGradient(0,0,0,d.height),d=1/(h.length-1);g.addColorStop(0,f.trim(h[0]));for(m=1;m<h.length;++m)g.addColorStop(m*d,f.trim(h[m]))}return g?g:a};this.SetShadow=function(a){var b=this.context,f=this.properties;if(f["chart.shadow"]){var d=f["chart.shadow.color"];if(typeof d=="object"&&d[a-1])b.shadowColor=d[a];else if(typeof d=="object")b.shadowColor=d[0];else if(typeof d==
"string")b.shadowColor=d;b.shadowBlur=f["chart.shadow.blur"];b.shadowOffsetX=f["chart.shadow.offsetx"];b.shadowOffsetY=f["chart.shadow.offsety"]}};this.interactiveKeyHighlight=function(c){if(c=this.coords2[c]){var e=b.lineWidth,f=b.lineCap;b.lineWidth=a["chart.linewidth"]+10;b.lineCap="round";b.strokeStyle=a["chart.key.interactive.highlight.chart.stroke"];b.beginPath();if(a["chart.curvy"])this.DrawSpline(b,c,a["chart.key.interactive.highlight.chart"],null);else for(var d=0,m=c.length;d<m;d=d+1)d==
0||n.is_null(c[d][1])||typeof c[d-1][1]!=void 0&&n.is_null(c[d-1][1])?b.moveTo(c[d][0],c[d][1]):b.lineTo(c[d][0],c[d][1]);b.stroke();b.lineWidth=e;b.lineCap=f}};n.Register(this)}else alert("[LINE] Fatal error: no canvas support")};
