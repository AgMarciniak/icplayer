    /**
    * o------------------------------------------------------------------------------o
    * | This file is part of the RGraph package - you can learn more at:             |
    * |                                                                              |
    * |                          http://www.rgraph.net                               |
    * |                                                                              |
    * | This package is licensed under the RGraph license. For all kinds of business |
    * | purposes there is a small one-time licensing fee to pay and for non          |
    * | commercial  purposes it is free to use. You can read the full license here:  |
    * |                                                                              |
    * |                      http://www.rgraph.net/LICENSE.txt                       |
    * o------------------------------------------------------------------------------o
    */

"undefined"==typeof RGraph&&(RGraph={});
RGraph.Radar=function(r,t){this.id=r;this.canvas=document.getElementById("object"===typeof r?r.id:r);this.context=this.canvas.getContext("2d");this.canvas.__object__=this;this.type="radar";this.coords=[];this.isRGraph=!0;this.data=[];this.max=0;this.original_data=[];this.uid=RGraph.CreateUID();this.canvas.uid=this.canvas.uid?this.canvas.uid:RGraph.CreateUID();this.colorsParsed=!1;this.coordsText=[];if("object"==typeof arguments[1]&&"object"==typeof arguments[1][0])for(var i=0,q=arguments[1].length;i<
q;++i)this.original_data.push(RGraph.array_clone(arguments[1][i])),this.data.push(RGraph.array_clone(arguments[1][i])),this.max=Math.max(this.max,RGraph.array_max(arguments[1][i]));else{i=1;for(q=arguments.length;i<q;++i)this.original_data.push(RGraph.array_clone(arguments[i])),this.data.push(RGraph.array_clone(arguments[i])),this.max=Math.max(this.max,RGraph.array_max(arguments[i]))}RGraph.OldBrowserCompat(this.context);this.properties={"chart.strokestyle":"#aaa","chart.gutter.left":25,"chart.gutter.right":25,
"chart.gutter.top":25,"chart.gutter.bottom":25,"chart.linewidth":1,"chart.colors":"rgba(255,255,0,0.25) rgba(0,255,255,0.25) rgba(255,0,0,0.5) red green blue pink aqua brown orange grey".split(" "),"chart.colors.alpha":null,"chart.circle":0,"chart.circle.fill":"red","chart.circle.stroke":"black","chart.labels":[],"chart.labels.offset":10,"chart.background.circles":!0,"chart.background.circles.count":null,"chart.background.circles.color":"#ddd","chart.background.circles.poly":!0,"chart.text.size":10,
"chart.text.size.scale":null,"chart.text.font":"Arial","chart.text.color":"black","chart.title":"","chart.title.background":null,"chart.title.hpos":null,"chart.title.vpos":null,"chart.title.color":"black","chart.title.bold":!0,"chart.title.font":null,"chart.title.x":null,"chart.title.y":null,"chart.title.halign":null,"chart.title.valign":null,"chart.linewidth":1,"chart.key":null,"chart.key.background":"white","chart.key.shadow":!1,"chart.key.shadow.color":"#666","chart.key.shadow.blur":3,"chart.key.shadow.offsetx":2,
"chart.key.shadow.offsety":2,"chart.key.position":"graph","chart.key.halign":"right","chart.key.position.gutter.boxed":!1,"chart.key.position.x":null,"chart.key.position.y":null,"chart.key.color.shape":"square","chart.key.rounded":!0,"chart.key.linewidth":1,"chart.key.colors":null,"chart.key.interactive":!1,"chart.key.interactive.highlight.chart.stroke":"rgba(255,0,0,0.3)","chart.key.interactive.highlight.label":"rgba(255,0,0,0.2)","chart.key.text.color":"black","chart.contextmenu":null,"chart.annotatable":!1,
"chart.annotate.color":"black","chart.zoom.factor":1.5,"chart.zoom.fade.in":!0,"chart.zoom.fade.out":!0,"chart.zoom.hdir":"right","chart.zoom.vdir":"down","chart.zoom.frames":25,"chart.zoom.delay":16.666,"chart.zoom.shadow":!0,"chart.zoom.background":!0,"chart.zoom.action":"zoom","chart.tooltips.effect":"fade","chart.tooltips.event":"onmousemove","chart.tooltips.css.class":"RGraph_tooltip","chart.tooltips.highlight":!0,"chart.highlight.stroke":"gray","chart.highlight.fill":"rgba(255,255,255,0.7)",
"chart.highlight.point.radius":2,"chart.resizable":!1,"chart.resize.handle.adjust":[0,0],"chart.resize.handle.background":null,"chart.labels.axes":"","chart.labels.background.fill":"white","chart.labels.boxed":!1,"chart.labels.axes.bold":[],"chart.labels.axes.boxed":null,"chart.labels.axes.boxed.zero":!0,"chart.labels.specific":[],"chart.labels.count":5,"chart.ymax":null,"chart.accumulative":!1,"chart.radius":null,"chart.events.click":null,"chart.events.mousemove":null,"chart.scale.decimals":0,"chart.scale.point":".",
"chart.scale.thousand":",","chart.units.pre":"","chart.units.post":"","chart.tooltips":null,"chart.tooltips.event":"onmousemove","chart.centerx":null,"chart.centery":null,"chart.radius":null,"chart.numxticks":5,"chart.numyticks":5,"chart.axes.color":"rgba(0,0,0,0)","chart.highlights":!1,"chart.highlights.stroke":"#ddd","chart.highlights.fill":null,"chart.highlights.radius":3,"chart.fill.click":null,"chart.fill.mousemove":null,"chart.fill.tooltips":null,"chart.fill.highlight.fill":"rgba(255,255,255,0.7)",
"chart.fill.highlight.stroke":"rgba(0,0,0,0)","chart.fill.mousemove.redraw":!1,"chart.animation.trace.clip":1};for(var o=0;o<this.data.length;++o)if(3>this.data[o].length){alert("[RADAR] You must specify at least 3 data points");return}for(var s=0,o=0;o<this.data.length;++o){i=0;for(q=this.data[o].length;i<q;++i)this["$"+s++]={}}this.canvas.__rgraph_aa_translated__||(this.context.translate(0.5,0.5),this.canvas.__rgraph_aa_translated__=!0);var h=RGraph,k=this.canvas,c=k.getContext("2d"),b=this.properties;
this.Set=function(a,c){a=a.toLowerCase();a.substr(0,6)!="chart."&&(a="chart."+a);a=="chart.text.diameter"&&(a="chart.text.size");a=="chart.color"&&(this.properties["chart.colors"]=[c]);b[a]=c;return this};this.Get=function(a){a.substr(0,6)!="chart."&&(a="chart."+a);a=="chart.text.diameter"&&(a="chart.text.size");return b[a]};this.Draw=function(){h.FireCustomEvent(this,"onbeforedraw");this.coords=[];this.coords2=[];this.data=h.array_clone(this.original_data);if(b["chart.accumulative"])for(var a=0;a<
this.data.length;++a)this.data[a].length!=this.data[0].length&&alert("[RADAR] Error! When the radar has chart.accumulative set to true all the datasets must have the same number of elements");if(h.is_null(b["chart.labels.axes.boxed"])){b["chart.labels.axes.boxed"]=[];for(a=0;a<(b["chart.labels.specific"].length||b["chart.labels.count"]||5);++a)b["chart.labels.axes.boxed"][a]=true}this.gutterLeft=b["chart.gutter.left"];this.gutterRight=b["chart.gutter.right"];this.gutterTop=b["chart.gutter.top"];this.gutterBottom=
b["chart.gutter.bottom"];this.centerx=(k.width-this.gutterLeft-this.gutterRight)/2+this.gutterLeft;this.centery=(k.height-this.gutterTop-this.gutterBottom)/2+this.gutterTop;this.radius=Math.min(k.width-this.gutterLeft-this.gutterRight,k.height-this.gutterTop-this.gutterBottom)/2;if(typeof b["chart.centerx"]=="number")this.centerx=2*b["chart.centerx"];if(typeof b["chart.centery"]=="number")this.centery=2*b["chart.centery"];if(typeof b["chart.radius"]=="number")this.radius=b["chart.radius"];if(!this.colorsParsed){this.parseColors();
this.colorsParsed=true}if(b["chart.ymax"])this.scale2=h.getScale2(this,{max:b["chart.ymax"],min:0,strict:true,"scale.decimals":Number(b["chart.scale.decimals"]),"scale.point":b["chart.scale.point"],"scale.thousand":b["chart.scale.thousand"],"scale.round":b["chart.scale.round"],"units.pre":b["chart.units.pre"],"units.post":b["chart.units.post"],"ylabels.count":b["chart.labels.count"]});else{if(b["chart.accumulative"])for(var f=this.original_data[0].length,a=1;a<this.original_data.length;++a){this.original_data[a].length!=
f&&alert("[RADAR] Error! Stacked Radar chart datasets must all be the same size!");for(var e=0;e<this.original_data[a].length;++e){this.data[a][e]=this.data[a][e]+this.data[a-1][e];this.max=Math.max(this.max,this.data[a][e])}}this.scale2=h.getScale2(this,{max:typeof b["chart.ymax"]=="number"?b["chart.ymax"]:this.max,min:0,"scale.decimals":Number(b["chart.scale.decimals"]),"scale.point":b["chart.scale.point"],"scale.thousand":b["chart.scale.thousand"],"scale.round":b["chart.scale.round"],"units.pre":b["chart.units.pre"],
"units.post":b["chart.units.post"],"ylabels.count":b["chart.labels.count"]})}this.max=this.scale2.max;this.DrawBackground();this.DrawAxes();this.DrawCircle();this.DrawLabels();this.DrawAxisLabels();c.save();c.beginPath();c.arc(this.centerx,this.centery,this.radius*2,-HALFPI,TWOPI*b["chart.animation.trace.clip"]-HALFPI,false);c.lineTo(this.centerx,this.centery);c.closePath();c.clip();this.DrawChart();this.DrawHighlights();c.restore();b["chart.title"]&&h.DrawTitle(this,b["chart.title"],this.gutterTop,
null,b["chart.title.diameter"]?b["chart.title.diameter"]:null);b["chart.key"]&&h.DrawKey(this,b["chart.key"],b["chart.colors"]);b["chart.contextmenu"]&&h.ShowContext(this);b["chart.resizable"]&&h.AllowResizing(this);h.InstallEventListeners(this);if((b["chart.fill.click"]||b["chart.fill.mousemove"]||!h.is_null(b["chart.fill.tooltips"]))&&!this.__fill_click_listeners_installed__){this.AddFillListeners();this.__fill_click_listeners_installed__=true}RGraph.FireCustomEvent(this,"ondraw");return this};
this.DrawBackground=function(){var a=b["chart.background.circles.color"],f=b["chart.background.circles.poly"];c.lineWidth=1;if(b["chart.background.circles"]&&f==false){c.strokeStyle=a;c.beginPath();for(var f=typeof b["chart.background.circles.count"]=="number"?b["chart.background.circles.count"]:b["chart.labels.count"],e=0;e<=this.radius;e=e+this.radius/f){c.moveTo(this.centerx,this.centery);c.arc(this.centerx,this.centery,e,0,TWOPI,false)}c.stroke();c.strokeStyle=a;for(f=0;f<360;f=f+15){c.beginPath();
c.arc(this.centerx,this.centery,this.radius,f/360*TWOPI,(f+0.001)/360*TWOPI,false);c.lineTo(this.centerx,this.centery);c.stroke()}}else if(b["chart.background.circles"]&&f==true){c.strokeStyle=a;e=360/this.data[0].length;for(f=0;f<360;f=f+e){c.beginPath();c.arc(this.centerx,this.centery,this.radius,f/360*TWOPI-HALFPI,(f+0.001)/360*TWOPI-HALFPI,false);c.lineTo(this.centerx,this.centery);c.stroke()}c.strokeStyle=a;f=typeof b["chart.background.circles.count"]=="number"?b["chart.background.circles.count"]:
b["chart.labels.count"];for(e=0;e<=this.radius;e=e+this.radius/f){c.beginPath();for(a=0;a<=360;a=a+360/this.data[0].length)c.arc(this.centerx,this.centery,e,h.degrees2Radians(a)-HALFPI,h.degrees2Radians(a)+0.001-HALFPI,false);c.closePath();c.stroke()}}};this.DrawAxes=function(){c.strokeStyle=b["chart.axes.color"];c.beginPath();c.moveTo(Math.round(this.centerx),this.centery+this.radius);c.lineTo(Math.round(this.centerx),this.centery-this.radius);c.moveTo(this.centerx-5,Math.round(this.centery+this.radius));
c.lineTo(this.centerx+5,Math.round(this.centery+this.radius));c.moveTo(this.centerx-5,Math.round(this.centery-this.radius));c.lineTo(this.centerx+5,Math.round(this.centery-this.radius));for(var a=this.centery-this.radius;a<this.centery+this.radius;a=a+this.radius/b["chart.numyticks"]){c.moveTo(this.centerx-3,Math.round(a));c.lineTo(this.centerx+3,Math.round(a))}c.moveTo(this.centerx-this.radius,Math.round(this.centery));c.lineTo(this.centerx+this.radius,Math.round(this.centery));c.moveTo(Math.round(this.centerx-
this.radius),this.centery-5);c.lineTo(Math.round(this.centerx-this.radius),this.centery+5);c.moveTo(Math.round(this.centerx+this.radius),this.centery-5);c.lineTo(Math.round(this.centerx+this.radius),this.centery+5);for(a=this.centerx-this.radius;a<this.centerx+this.radius;a=a+this.radius/b["chart.numxticks"]){c.moveTo(Math.round(a),this.centery-3);c.lineTo(Math.round(a),this.centery+3)}c.stroke()};this.DrawChart=function(){var a=b["chart.colors.alpha"];if(typeof a=="number"){var f=c.globalAlpha;c.globalAlpha=
a}for(var e=0;e<this.data.length;++e){c.beginPath();for(var g=[],d=0;d<this.data[e].length;++d){var h=this.GetCoordinates(e,d);g==null&&(g=[]);g.push(h);this.coords.push(h)}this.coords2[e]=g;c.strokeStyle=typeof b["chart.strokestyle"]=="object"&&b["chart.strokestyle"][e]?b["chart.strokestyle"][e]:b["chart.strokestyle"];c.fillStyle=b["chart.colors"][e];c.lineWidth=b["chart.linewidth"];for(d=0;d<g.length;++d)d==0?c.moveTo(g[d][0],g[d][1]):c.lineTo(g[d][0],g[d][1]);if(b["chart.accumulative"]&&e>0){c.lineTo(g[0][0],
g[0][1]);c.moveTo(m[0][0],m[0][1]);for(d=g.length-1;d>=0;--d)c.lineTo(m[d][0],m[d][1])}var m=g;c.closePath();c.stroke();c.fill()}if(typeof a=="number")c.globalAlpha=f};this.GetCoordinates=function(a,b){var c=this.data[a][b]/this.max*this.radius,g=TWOPI/this.data[a].length*b,g=g-HALFPI,d=Math.cos(g)*c,c=Math.sin(g)*c,d=this.centerx+d,c=this.centery+c;return[d,c]};this.DrawLabels=function(){var a=b["chart.labels"];if(a&&a.length>0){c.lineWidth=1;c.strokeStyle="gray";c.fillStyle=b["chart.text.color"];
for(var f=b["chart.labels.background.fill"],e=b["chart.labels.bold"],g=b["chart.labels.boxed"],d=b["chart.labels.offset"],p=b["chart.text.font"],m=b["chart.text.size"],i=this.radius,l=0;l<a.length;++l){var j=TWOPI/b["chart.labels"].length*l,j=j-HALFPI,k=this.centerx+Math.cos(j)*(i+d),j=this.centery+Math.sin(j)*(i+d),n=k<this.centerx?"right":"left";if(l==0||l/a.length==0.5)n="center";a[l]&&a[l].length&&h.Text2(this,{font:p,size:m,x:k,y:j,text:a[l],valign:"center",halign:n,bounding:g,boundingFill:f,
bold:e,tag:"labels"})}}};this.DrawCircle=function(){var a,f,e;a=b["chart.circle"];f=b["chart.circle.fill"];e=b["chart.circle.stroke"];if(a){a=a/this.max*this.radius;c.fillStyle=f;c.strokeStyle=e;c.beginPath();c.arc(this.centerx,this.centery,a,0,TWOPI,0);c.fill();c.stroke()}};this.DrawAxisLabels=function(){if(h.is_array(b["chart.labels.specific"])&&b["chart.labels.specific"].length)this.DrawSpecificAxisLabels();else{c.lineWidth=1;c.fillStyle="black";c.strokeStyle="black";var a=this.radius,f=b["chart.text.font"],
e=typeof b["chart.text.size.scale"]=="number"?b["chart.text.size.scale"]:b["chart.text.size"],g=b["chart.labels.axes"].toLowerCase(),d=false,p=b["chart.units.pre"],m=b["chart.units.post"],i=b["chart.scale.decimals"],l=b["chart.labels.axes.bold"],j=b["chart.labels.axes.boxed"],k=this.centerx,n=this.centery;c.fillStyle=b["chart.text.color"];if(g.indexOf("n")>-1){for(d=0;d<this.scale2.labels.length;++d)h.Text2(this,{bold:l[d],font:f,size:e,x:k,y:n-a*((d+1)/this.scale2.labels.length),text:this.scale2.labels[d],
valign:"center",halign:"center",bounding:j[d],boundingFill:"white",tag:"scale"});d=true}if(g.indexOf("s")>-1){for(d=0;d<this.scale2.labels.length;++d)h.Text2(this,{bold:l[d],font:f,size:e,x:k,y:n+a*((d+1)/this.scale2.labels.length),text:this.scale2.labels[d],valign:"center",halign:"center",bounding:j[d],boundingFill:"white",tag:"scale"});d=true}if(g.indexOf("e")>-1){for(d=0;d<this.scale2.labels.length;++d)h.Text2(this,{bold:l[d],font:f,size:e,x:k+a*((d+1)/this.scale2.labels.length),y:n,text:this.scale2.labels[d],
valign:"center",halign:"center",bounding:j[d],boundingFill:"white",tag:"scale"});d=true}if(g.indexOf("w")>-1){for(d=0;d<this.scale2.labels.length;++d)h.Text2(this,{bold:l[d],font:f,size:e,x:k-a*((d+1)/this.scale2.labels.length),y:n,text:this.scale2.labels[d],valign:"center",halign:"center",bounding:j[d],boundingFill:"white",tag:"scale"});d=true}d&&h.Text2(this,{font:f,size:e,x:k,y:n,text:h.number_format(this,(0).toFixed(i),p,m),valign:"center",halign:"center",bounding:b["chart.labels.axes.boxed.zero"],
boundingFill:"white",bold:b["chart.labels.axes.bold.zero"],tag:"scale"})}};this.DrawSpecificAxisLabels=function(){var a=b["chart.labels.specific"],f=h.array_pad(b["chart.labels.axes.bold"],a.length),e=h.array_pad(b["chart.labels.axes.boxed"],a.length),g=h.array_reverse(a),d=h.array_reverse(f),p=h.array_reverse(e),i=b["chart.text.font"],k=typeof b["chart.text.size.scale"]=="number"?b["chart.text.size.scale"]:b["chart.text.size"],l=b["chart.labels.axes"].toLowerCase();c.fillStyle=b["chart.text.color"];
for(var j=0;j<a.length;++j){l.indexOf("n")>-1&&h.Text2(this,{tag:"labels.specific",bold:d[j],font:i,size:k,x:this.centerx,y:this.centery-this.radius+this.radius/a.length*j,text:g[j],valign:"center",halign:"center",bounding:p[j],boundingFill:"white"});l.indexOf("s")>-1&&h.Text2(this,{tag:"labels.specific",bold:f[j],font:i,size:k,x:this.centerx,y:this.centery+this.radius/a.length*(j+1),text:a[j],valign:"center",halign:"center",bounding:e[j],boundingFill:"white"});l.indexOf("w")>-1&&h.Text2(this,{tag:"labels.specific",
bold:d[j],font:i,size:k,x:this.centerx-this.radius+this.radius/a.length*j,y:this.centery,text:g[j],valign:"center",halign:"center",bounding:p[j],boundingFill:"white"});l.indexOf("e")>-1&&h.Text2(this,{tag:"labels.specific",bold:f[j],font:i,size:k,x:this.centerx+this.radius/a.length*(j+1),y:this.centery,text:a[j],valign:"center",halign:"center",bounding:e[j],boundingFill:"white"})}};this.getShape=this.getPoint=function(a){for(var c=0;c<this.coords.length;++c){var e=this.coords[c][0],g=this.coords[c][1],
d=Number(c),i=h.getMouseXY(a),k=i[0],i=i[1];if(k<e+5&&k>e-5&&i>g-5&&i<g+5){a=h.parseTooltipText(b["chart.tooltips"],d);return{"0":this,object:this,1:e,x:e,2:g,y:g,3:null,dataset:null,4:d,index:c,tooltip:a}}}};this.Highlight=function(a){h.Highlight.Point(this,a)};this.getObjectByXY=function(a){a=h.getMouseXY(a);if(a[0]>this.centerx-this.radius&&a[0]<this.centerx+this.radius&&a[1]>this.centery-this.radius&&a[1]<this.centery+this.radius)return this};this.positionTooltip=function(a,b,c,g){b=this.coords[g.__index__][0];
a=h.getCanvasXY(a.canvas);c=g.offsetWidth;g.style.left=0;g.style.top=parseInt(g.style.top)-9+"px";g.style.overflow="";var d=new Image;d.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAFCAYAAACjKgd3AAAARUlEQVQYV2NkQAN79+797+RkhC4M5+/bd47B2dmZEVkBCgcmgcsgbAaA9GA1BCSBbhAuA/AagmwQPgMIGgIzCD0M0AMMAEFVIAa6UQgcAAAAAElFTkSuQmCC";d.style.position="absolute";d.id="__rgraph_tooltip_pointer__";d.style.top=g.offsetHeight-2+"px";g.appendChild(d);if(a[0]+b-c/2<10){g.style.left=a[0]+b-c*0.1+"px";d.style.left=
c*0.1-8.5+"px"}else if(a[0]+b+c/2>document.body.offsetWidth){g.style.left=a[0]+b-c*0.9+"px";d.style.left=c*0.9-8.5+"px"}else{g.style.left=a[0]+b-c*0.5+"px";d.style.left=c*0.5-8.5+"px"}};this.DrawHighlights=function(){if(b["chart.highlights"])for(var a=0,f=0,e=0,g=b["chart.highlights.radius"],f=0;f<this.data.length;++f)for(e=0;e<this.data[f].length;++e){c.beginPath();c.strokeStyle=b["chart.highlights.stroke"];c.fillStyle=b["chart.highlights.fill"]?b["chart.highlights.fill"]:typeof b["chart.strokestyle"]==
"object"&&b["chart.strokestyle"][f]?b["chart.strokestyle"][f]:b["chart.strokestyle"];c.arc(this.coords[a][0],this.coords[a][1],g,0,TWOPI,false);c.stroke();c.fill();++a}};this.getRadius=function(a){return a<0||a>this.max?null:a/this.max*this.radius};this.getAngle=function(a,b){var c=TWOPI/a*b;return c=c-HALFPI};this.parseColors=function(){for(var a=0;a<b["chart.colors"].length;++a)b["chart.colors"][a]=this.parseSingleColorForGradient(b["chart.colors"][a]);a=b["chart.key.colors"];if(typeof a!="null"&&
a&&a.length)for(a=0;a<b["chart.key.colors"].length;++a)b["chart.key.colors"][a]=this.parseSingleColorForGradient(b["chart.key.colors"][a]);b["chart.title.color"]=this.parseSingleColorForGradient(b["chart.title.color"]);b["chart.text.color"]=this.parseSingleColorForGradient(b["chart.text.color"]);b["chart.highlight.stroke"]=this.parseSingleColorForGradient(b["chart.highlight.stroke"]);b["chart.highlight.fill"]=this.parseSingleColorForGradient(b["chart.highlight.fill"]);b["chart.circle.fill"]=this.parseSingleColorForGradient(b["chart.circle.fill"]);
b["chart.circle.stroke"]=this.parseSingleColorForGradient(b["chart.circle.stroke"])};this.parseSingleColorForGradient=function(a){if(!a||typeof a!="string")return a;if(a.match(/^gradient\((.*)\)$/i)){var b=RegExp.$1.split(":"),e=c.createRadialGradient(this.centerx,this.centery,0,this.centerx,this.centery,this.radius),g=1/(b.length-1);e.addColorStop(0,h.trim(b[0]));for(var d=1;d<b.length;++d)e.addColorStop(d*g,h.trim(b[d]))}return e?e:a};this.AddFillListeners=function(){var a=this,f=function(e){var g=
h.getMouseXY(e),d=0;e.type=="mousemove"&&b["chart.fill.mousemove.redraw"]&&h.RedrawCanvas(k);for(d=a.coords2.length-1;d>=0;--d){c.beginPath();c.moveTo(a.coords2[d][0][0],a.coords2[d][0][1]);for(var f=0;f<a.coords2[d].length;++f)c.lineTo(a.coords2[d][f][0],a.coords2[d][f][1]);c.lineTo(a.coords2[d][0][0],a.coords2[d][0][1]);if(b["chart.accumulative"]&&d>0){c.lineTo(a.coords2[d-1][0][0],a.coords2[d-1][0][1]);for(f=a.coords2[d-1].length-1;f>=0;--f)c.lineTo(a.coords2[d-1][f][0],a.coords2[d-1][f][1])}c.closePath();
if(c.isPointInPath(g[0],g[1])){var i=true;break}}if(i){g=b["chart.fill.tooltips"];if(e.type=="click"){if(b["chart.fill.click"])b["chart.fill.click"](e,d);b["chart.fill.tooltips"]&&b["chart.fill.tooltips"][d]&&a.DatasetTooltip(e,d)}if(e.type=="mousemove"){if(b["chart.fill.mousemove"])b["chart.fill.mousemove"](e,d);if(!h.is_null(g))e.target.style.cursor="pointer";if(b["chart.fill.tooltips"]&&b["chart.fill.tooltips"][d])e.target.style.cursor="pointer"}e.stopPropagation()}else if(e.type=="mousemove")k.style.cursor=
"default"};(b["chart.fill.click"]||!h.is_null(b["chart.fill.tooltips"]))&&k.addEventListener("click",f,false);(b["chart.fill.mousemove"]||!h.is_null(b["chart.fill.tooltips"]))&&k.addEventListener("mousemove",f,false)};this.HighlightDataset=function(a){c.beginPath();for(var f=0;f<this.coords2[a].length;++f)f==0?c.moveTo(this.coords2[a][0][0],this.coords2[a][0][1]):c.lineTo(this.coords2[a][f][0],this.coords2[a][f][1]);c.lineTo(this.coords2[a][0][0],this.coords2[a][0][1]);if(b["chart.accumulative"]&&
a>0){c.lineTo(this.coords2[a-1][0][0],this.coords2[a-1][0][1]);for(f=this.coords2[a-1].length-1;f>=0;--f)c.lineTo(this.coords2[a-1][f][0],this.coords2[a-1][f][1])}c.strokeStyle=b["chart.fill.highlight.stroke"];c.fillStyle=b["chart.fill.highlight.fill"];c.stroke();c.fill()};this.DatasetTooltip=function(a,c){this.HighlightDataset(c);var e=b["chart.fill.tooltips"][c],g=this.coords2[c][0][1]+h.getCanvasXY(k)[1];h.Tooltip(this,e,0,g,0,a)};this.interactiveKeyHighlight=function(a){if(a=this.coords2[a]){var f=
c.lineWidth,e=c.lineCap;c.lineWidth=b["chart.linewidth"]+10;c.lineCap="round";c.strokeStyle=b["chart.key.interactive.highlight.chart.stroke"];c.beginPath();for(var g=0,d=a.length;g<d;g=g+1)g==0?c.moveTo(a[g][0],a[g][1]):c.lineTo(a[g][0],a[g][1]);c.closePath();c.stroke();c.lineWidth=f;c.lineCap=e}};h.Register(this)};
